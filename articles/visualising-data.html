<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="scgUtils">
<title>Visualising Data • scgUtils</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.8/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.8/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Visualising Data">
<meta property="og:description" content="scgUtils">
<meta property="og:image" content="https://sarahcgall.github.io/scgUtils/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">scgUtils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/using-survey-data.html">Using scgUtils with Survey Data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Function Explainers</h6>
    <a class="dropdown-item" href="../articles/uploading-data.html">Uploading &amp; Cleaning Data</a>
    <a class="dropdown-item" href="../articles/creating-colour-palettes.html">Mastering Colour Selection</a>
    <a class="dropdown-item" href="../articles/visualising-data.html">Visualising Data</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sarahcgall/scgUtils/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Visualising Data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sarahcgall/scgUtils/blob/HEAD/vignettes/articles/visualising-data.rmd" class="external-link"><code>vignettes/articles/visualising-data.rmd</code></a></small>
      <div class="d-none name"><code>visualising-data.rmd</code></div>
    </div>

    
    
<p>This article demonstrates the powerful visualisation capabilities of
the <code>scgUtils</code> package, offering tools for diverse data
presentations ranging from personality profiles to demographic and flow
analyses.</p>
<p><br></p>
<div class="section level3">
<h3 id="sankey-diagram">Sankey Diagram<a class="anchor" aria-label="anchor" href="#sankey-diagram"></a>
</h3>
<p>Flow visualisation helps in understanding how different categories of
respondents transition between various stages or choices. The
<code><a href="../reference/plot_sankey.html">plot_sankey()</a></code> function is instrumental in depicting the
flow of data, especially useful in understanding voting patterns or
changes in preferences over time. <br><br></p>
<div class="section level5">
<h5 id="preparing-data-with-grp_freq">Preparing Data with <code>grp_freq()</code><a class="anchor" aria-label="anchor" href="#preparing-data-with-grp_freq"></a>
</h5>
<p>Before visualising, prepare your data using <code><a href="../reference/grp_freq.html">grp_freq()</a></code>,
which aggregates frequencies necessary for the Sankey diagram.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Subset the required columns from the dataset</span></span>
<span><span class="va">sankey_df</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"wt"</span>, <span class="st">"generalElectionVote"</span>, <span class="st">"p_past_vote_2019"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Get the frequency</span></span>
<span><span class="va">sankey_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/grp_freq.html">grp_freq</a></span><span class="op">(</span><span class="va">sankey_df</span>,</span>
<span>                      groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"generalElectionVote"</span>, <span class="st">"p_past_vote_2019"</span><span class="op">)</span>,</span>
<span>                      weight <span class="op">=</span> <span class="st">"wt"</span>, <span class="co"># optional</span></span>
<span>                      round_decimals <span class="op">=</span> <span class="fl">0</span>, <span class="co"># optional</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sankey_df</span><span class="op">)</span></span>
<span><span class="co"># NB. The `dplyr` equivalent is:</span></span>
<span><span class="co"># df %&gt;%</span></span>
<span><span class="co">#   group_by(generalElectionVote, p_past_vote_2019) %&gt;%</span></span>
<span><span class="co">#   summarise(Freq = sum(wt))</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">generalElectionVote</th>
<th align="left">p_past_vote_2019</th>
<th align="right">Freq</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">I would/did not vote</td>
<td align="left">Conservative</td>
<td align="right">75</td>
</tr>
<tr class="even">
<td align="left">Conservative</td>
<td align="left">Conservative</td>
<td align="right">793</td>
</tr>
<tr class="odd">
<td align="left">Labour</td>
<td align="left">Conservative</td>
<td align="right">124</td>
</tr>
<tr class="even">
<td align="left">Liberal Democrat</td>
<td align="left">Conservative</td>
<td align="right">50</td>
</tr>
<tr class="odd">
<td align="left">Scottish National Party (SNP)</td>
<td align="left">Conservative</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">Plaid Cymru</td>
<td align="left">Conservative</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
<p><br></p>
</div>
<div class="section level5">
<h5 id="customising-the-sankey-diagram">Customising the Sankey Diagram<a class="anchor" aria-label="anchor" href="#customising-the-sankey-diagram"></a>
</h5>
<p>The <code><a href="../reference/plot_sankey.html">plot_sankey()</a></code> function offers extensive
customisation, allowing the diagram to be tailored to specific data
narratives. The <code><a href="../reference/colour_prep.html">colour_prep()</a></code> function enhances this
customisation by facilitating the assignment of meaningful colours based
on categories like political party affiliations. Such customisation not
only improves the aesthetic appeal of the Sankey diagram but also boosts
its interpretability and effectiveness in conveying complex data
flows.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_sankey.html">plot_sankey</a></span><span class="op">(</span><span class="va">sankey_df</span>,</span>
<span>            source <span class="op">=</span> <span class="st">"p_past_vote_2019"</span>, <span class="co"># on the left side</span></span>
<span>            target <span class="op">=</span> <span class="st">"generalElectionVote"</span>, <span class="co"># on the right side</span></span>
<span>            value <span class="op">=</span> <span class="st">"Freq"</span>,</span>
<span>            units <span class="op">=</span> <span class="st">" votes"</span>,</span>
<span>            colours <span class="op">=</span> <span class="fu"><a href="../reference/colour_prep.html">colour_prep</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"generalElectionVote"</span>, <span class="st">"p_past_vote_2019"</span><span class="op">)</span>, pal_name <span class="op">=</span> <span class="st">"polUK"</span><span class="op">)</span>,</span>
<span>            fontSize <span class="op">=</span> <span class="fl">16</span>, <span class="co"># change font size</span></span>
<span>            fontFamily <span class="op">=</span> <span class="st">"Calibri"</span>, <span class="co"># default</span></span>
<span>            nodeWidth <span class="op">=</span> <span class="fl">20</span>, <span class="co"># default</span></span>
<span>            nodePadding <span class="op">=</span> <span class="fl">10</span>, <span class="co"># default</span></span>
<span>            margin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>top <span class="op">=</span> <span class="fl">0</span>, right <span class="op">=</span> <span class="fl">130</span>, bottom <span class="op">=</span> <span class="fl">0</span>, left <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>, <span class="co"># adjust the margin</span></span>
<span>            width <span class="op">=</span> <span class="fl">1200</span>, <span class="co"># default</span></span>
<span>            height <span class="op">=</span> <span class="fl">800</span>, <span class="co"># default</span></span>
<span>            shiftLabel <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># default</span></span>
<span>            heading <span class="op">=</span> <span class="st">"Flow of Votes"</span>,</span>
<span>            sourceTitle <span class="op">=</span> <span class="st">"2019 Vote"</span>,</span>
<span>            targetTitle <span class="op">=</span> <span class="st">"VI"</span></span>
<span><span class="op">)</span> <span class="co"># %&gt;%</span></span>
<span><span class="co"># save from viewer to html</span></span>
<span><span class="co"># htmlwidgets::saveWidget(file = "sankey_VI.html", selfcontained = TRUE)</span></span></code></pre></div>
<iframe width="100%" height="850" src="img/sankey_VI.html" frameborder="0" allowfullscreen></iframe>
<p><br></p>
</div>
</div>
<div class="section level3">
<h3 id="parliament-plot">Parliament Plot<a class="anchor" aria-label="anchor" href="#parliament-plot"></a>
</h3>
<p>Understanding the distribution of parliamentary seats among political
parties is crucial for grasping the political landscape. The
<code><a href="../reference/plot_parliament.html">plot_parliament()</a></code> function in <code>scgUtils</code> is
designed to visualise this distribution in a semi-circular parliament
layout. It is particularly useful for illustrating the composition of a
parliament following an election. <br><br></p>
<div class="section level5">
<h5 id="basic-parliament">Basic Parliament<a class="anchor" aria-label="anchor" href="#basic-parliament"></a>
</h5>
<p>The basic usage of <code><a href="../reference/plot_parliament.html">plot_parliament()</a></code> involves creating a
plot that shows the number of seats each party holds. This
representation helps in quickly understanding the strength of each party
within the parliament.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Prepare Data</span></span>
<span><span class="va">de_parliament</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Party <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SPD"</span>, <span class="st">"Greens"</span>, <span class="st">"FDP"</span>, <span class="st">"The Left"</span>, <span class="st">"Other"</span>, <span class="st">"AfD"</span>, <span class="st">"CDU/CSU"</span><span class="op">)</span>,</span>
<span>  Result <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">206</span>, <span class="fl">118</span>, <span class="fl">92</span>, <span class="fl">39</span>, <span class="fl">1</span>, <span class="fl">83</span>, <span class="fl">97</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot</span></span>
<span><span class="fu"><a href="../reference/plot_parliament.html">plot_parliament</a></span><span class="op">(</span><span class="va">de_parliament</span>,</span>
<span>                partyCol <span class="op">=</span> <span class="st">"Party"</span>,</span>
<span>                seatCol <span class="op">=</span> <span class="st">"Result"</span>,</span>
<span>                colours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#e3000f"</span>, <span class="st">"#409a3c"</span>, <span class="st">"#ffed00"</span>, <span class="st">"#be3075"</span>, <span class="st">"#dcdcdc"</span>, <span class="st">"#00a2de"</span>, <span class="st">"black"</span><span class="op">)</span> <span class="co"># optional</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualising-data_files/figure-html/parliament1-1.png" width="700"><br></p>
</div>
<div class="section level5">
<h5 id="adding-a-percentage-bar">Adding a Percentage Bar<a class="anchor" aria-label="anchor" href="#adding-a-percentage-bar"></a>
</h5>
<p>For a more detailed analysis, <code><a href="../reference/plot_parliament.html">plot_parliament()</a></code> can also
include a percentage bar that shows the popular vote won by each party.
This feature provides additional context to the seat distribution,
reflecting how party popularity translates into parliamentary seats.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Prepare Data</span></span>
<span><span class="va">uk_parliament</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Party <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Labour"</span>, <span class="st">"SNP"</span>, <span class="st">"Other"</span>, <span class="st">"Liberal Democrat"</span>, <span class="st">"Conservative"</span><span class="op">)</span>,</span>
<span>  Seats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">202</span>, <span class="fl">48</span>, <span class="fl">24</span>, <span class="fl">11</span>, <span class="fl">365</span><span class="op">)</span>,</span>
<span>  Percentage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">32.1</span>, <span class="fl">3.9</span>, <span class="fl">8.8</span>, <span class="fl">11.6</span>, <span class="fl">43.6</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot</span></span>
<span><span class="fu"><a href="../reference/plot_parliament.html">plot_parliament</a></span><span class="op">(</span><span class="va">uk_parliament</span>,</span>
<span>                  <span class="st">"Party"</span>,</span>
<span>                  <span class="st">"Seats"</span>,</span>
<span>                  <span class="st">"Percentage"</span>,</span>
<span>                  majorityLine <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co"># add line down centre</span></span>
<span>                  title <span class="op">=</span> <span class="st">"2019 UK General Election"</span>, <span class="co"># add title</span></span>
<span>                  subtitle <span class="op">=</span> <span class="st">"Results"</span>,<span class="co"># add subtitle</span></span>
<span>                  size <span class="op">=</span> <span class="fl">4</span>, <span class="co"># increase the size of the points</span></span>
<span>                  legend <span class="op">=</span> <span class="st">"bottom"</span>, <span class="co"># add legend to bottom</span></span>
<span>                  colours <span class="op">=</span> <span class="fu"><a href="../reference/colour_prep.html">colour_prep</a></span><span class="op">(</span><span class="va">uk_parliament</span>, <span class="st">"Party"</span>, <span class="st">"polUK"</span><span class="op">)</span>, <span class="co"># match colours using `colour_prep()`</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="visualising-data_files/figure-html/parliament2-1.png" width="700"><br> This plot offers an intuitive way to analyse election results,
party strengths, and their representation in the parliament. The
inclusion of a majority line further enhances the plot by delineating
the threshold needed for a majority. <br><br></p>
</div>
</div>
<div class="section level3">
<h3 id="personality-plot">Personality Plot<a class="anchor" aria-label="anchor" href="#personality-plot"></a>
</h3>
<p>The <code><a href="../reference/plot_bigfive.html">plot_bigfive()</a></code> function returns a <a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">ggplot2</a>
chart to help visualise the personality profile of the survey data. This
radar chart is primarily to visualise the Big Five personality traits
(neuroticism, extroversion, openness, agreeableness, and
conscientiousness) but can be amended for other quantitative data types
with a scale between 0 and 100.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create single plot using unweighted data</span></span>
<span><span class="fu"><a href="../reference/plot_bigfive.html">plot_bigfive</a></span><span class="op">(</span><span class="va">dataset</span>,</span>
<span>             big_five <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Neuroticism"</span>, <span class="st">"Extroversion"</span>, <span class="st">"Openness"</span>, <span class="st">"Agreeableness"</span>, <span class="st">"Conscientiousness"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="img/bigfive_plot1.png" width="100%"><br></p>
<p>When a group is provided, the function returns faceted plots with the
variables within the group plotted on top of the average. This provides
an easy comparison between the variable and the rest of the cohort in
the survey.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create faceted plot using age groups and weighted data</span></span>
<span><span class="fu"><a href="../reference/plot_bigfive.html">plot_bigfive</a></span><span class="op">(</span><span class="va">dataset</span>,</span>
<span>             big_five <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Neuroticism"</span>, <span class="st">"Extroversion"</span>, <span class="st">"Openness"</span>, <span class="st">"Agreeableness"</span>, <span class="st">"Conscientiousness"</span><span class="op">)</span>,</span>
<span>             group <span class="op">=</span> <span class="st">"Gender"</span>,</span>
<span>             weight <span class="op">=</span> <span class="st">"wgtvar"</span><span class="op">)</span></span></code></pre></div>
<p><img src="img/bigfive_plot2.png" width="100%"></p>
</div>
<div class="section level3">
<h3 id="population-plot">Population Plot<a class="anchor" aria-label="anchor" href="#population-plot"></a>
</h3>
<p>Understanding demographic distribution is vital in survey analysis.
<code><a href="../reference/plot_popn.html">plot_popn()</a></code> creates visual representations of population
profiles.</p>
<div class="section level5">
<h5 id="using-plot_popn">Using <code>plot_popn</code><a class="anchor" aria-label="anchor" href="#using-plot_popn"></a>
</h5>
<p>The <code><a href="../reference/plot_popn.html">plot_popn()</a></code> function is designed to visualise the
population structure of your survey respondents. It creates a population
pyramid showing distributions across gender and age groups. If a
variable like average age (<code>meanVar</code>) is specified, the plot
can also display this information, adding another layer of insight into
the demographic composition.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_popn.html">plot_popn</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df</span>,</span>
<span>          xVar <span class="op">=</span> <span class="st">"gender"</span>,</span>
<span>          yVar <span class="op">=</span> <span class="st">"ageGroup"</span>,</span>
<span>          weight <span class="op">=</span> <span class="st">"wt"</span>, <span class="co"># optional</span></span>
<span>          meanVar <span class="op">=</span> <span class="st">"age"</span>, <span class="co"># optional (must be numeric)</span></span>
<span>          addLabels <span class="op">=</span> <span class="cn">TRUE</span> <span class="co"># to add % labels</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualising-data_files/figure-html/popn_plot-1.png" width="100%"><br></p>
</div>
<div class="section level5">
<h5 id="faceting-by-group">Faceting by Group<a class="anchor" aria-label="anchor" href="#faceting-by-group"></a>
</h5>
<p>Enhance your population pyramid by faceting the
<code>plot_popn</code> plot by a specific group, such as voter turnout.
This feature overlays the selected group’s data onto the total
population structure, providing a comparative view that highlights
differences or similarities within subgroups.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_popn.html">plot_popn</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df</span>,</span>
<span>          xVar <span class="op">=</span> <span class="st">"gender"</span>,</span>
<span>          yVar <span class="op">=</span> <span class="st">"ageGroup"</span>,</span>
<span>          group <span class="op">=</span> <span class="st">"turnoutUKGeneral"</span>,</span>
<span>          weight <span class="op">=</span> <span class="st">"wt"</span>, <span class="co"># optional</span></span>
<span>          addLabels <span class="op">=</span> <span class="cn">TRUE</span> <span class="co"># to add % labels</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualising-data_files/figure-html/popn_plot2-1.png" width="100%"><br></p>
</div>
</div>
<div class="section level3">
<h3 id="binary-plot">Binary Plot<a class="anchor" aria-label="anchor" href="#binary-plot"></a>
</h3>
<p>The <code><a href="../reference/plot_binary.html">plot_binary()</a></code> function visualises binary survey
responses (e.g., “Yes” vs “No”). It is particularly effective for
comparative analysis. This function utilises the
<code><a href="../reference/grid_vars.html">grid_vars()</a></code> function to help transform the data into the
correct format.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create list</span></span>
<span><span class="va">vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Q1a <span class="op">=</span> <span class="st">"Art"</span>,</span>
<span>             Q1b <span class="op">=</span> <span class="st">"Automobiles"</span>,</span>
<span>             Q1c <span class="op">=</span> <span class="st">"Birdwatching"</span></span>
<span>             <span class="co">#             ...</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># Create plot</span></span>
<span><span class="fu"><a href="../reference/plot_binary.html">plot_binary</a></span><span class="op">(</span><span class="va">dataset</span>,</span>
<span>            vars <span class="op">=</span> <span class="va">vars</span>,</span>
<span>            group <span class="op">=</span> <span class="st">"gender"</span>,</span>
<span>            weight <span class="op">=</span> <span class="st">"wgtvar"</span>,</span>
<span>            return_var <span class="op">=</span> <span class="st">"Yes"</span><span class="op">)</span></span></code></pre></div>
<p><img src="img/binary_plot.png" width="100%"><br></p>
</div>
<div class="section level3">
<h3 id="parliament-plots">Parliament Plots<a class="anchor" aria-label="anchor" href="#parliament-plots"></a>
</h3>
<p>Future updates to <code>scgUtils</code> will introduce Parliament
plots, further expanding the package’s visualisation capabilities.</p>
</div>
<div class="section level3">
<h3 id="butterfly-plots">Butterfly Plots<a class="anchor" aria-label="anchor" href="#butterfly-plots"></a>
</h3>
<p>Future updates to <code>scgUtils</code> will introduce Butterfly
plots, further expanding the package’s visualisation capabilities.</p>
</div>
<div class="section level3">
<h3 id="likert-plots">Likert Plots<a class="anchor" aria-label="anchor" href="#likert-plots"></a>
</h3>
<p>Likert scale responses will be visualisable with upcoming features,
providing nuanced insights into survey data.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://sarahcgall.co.uk/" class="external-link">Sarah Gall</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

  </div></footer>
</body>
</html>
