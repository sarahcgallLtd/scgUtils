<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Using scgUtils with Survey Data • scgUtils</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using scgUtils with Survey Data">
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">scgUtils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/using-survey-data.html">Using scgUtils with Survey Data</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Function Explainers</h6></li>
    <li><a class="dropdown-item" href="../articles/uploading-data.html">Uploading &amp; Cleaning Data</a></li>
    <li><a class="dropdown-item" href="../articles/weight-your-data.html">Weighting Your Data</a></li>
    <li><a class="dropdown-item" href="../articles/crosstabs.html">Conducting Cross-Tabulation Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/creating-colour-palettes.html">Mastering Colour Selection</a></li>
    <li><a class="dropdown-item" href="../articles/visualising-data.html">Visualising Data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sarahcgall/scgUtils/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Using scgUtils with Survey Data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sarahcgall/scgUtils/blob/master/vignettes/articles/using-survey-data.rmd" class="external-link"><code>vignettes/articles/using-survey-data.rmd</code></a></small>
      <div class="d-none name"><code>using-survey-data.rmd</code></div>
    </div>

    
    
<style>
  .content p {
    margin-top: 30px !important;
  }

  details {
    margin-bottom: 40px;
  }
</style>
<p><br> This article will take you through the steps of uploading,
processing, and exploring survey data using the <code>scgUtils</code>
package in R. Our journey will cover the nuances of handling survey
datasets, from the initial loading of the data to the advanced stages of
analysis and visualisation. <br></p>
<div class="section level3">
<h3 id="step-1-upload-the-sample-dataset">Step 1: Upload the Sample Dataset<a class="anchor" aria-label="anchor" href="#step-1-upload-the-sample-dataset"></a>
</h3>
<p>The process begins with loading your dataset. The
<code>scgUtils</code> package offers two main functions for this
purpose: <code><a href="../reference/get_data.html">get_data()</a></code> and <code><a href="../reference/get_file.html">get_file()</a></code>. <br><br></p>
<p><strong>Using <code><a href="../reference/get_data.html">get_data()</a></code>:</strong> This function is
ideal for loading datasets directly from R packages. It streamlines the
process of importing and naming your dataset in the R environment.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example of loading and preprocessing a dataset</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_data.html">get_data</a></span><span class="op">(</span><span class="st">"survey"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">labelled</span><span class="fu">::</span><span class="fu"><a href="https://larmarange.github.io/labelled/reference/to_factor.html" class="external-link">unlabelled</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co"># Convert 'haven_labelled' data to standard format</span></span>
<span>  <span class="fu"><a href="../reference/process_factors.html">process_factors</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Remove unused factor levels</span></span></code></pre></div>
<p><em>Note: The sample data is a subset of the British Electoral
Survey. For full data, visit <a href="https://www.britishelectionstudy.com/data-object/wave-25-of-the-2014-2023-british-election-study-internet-panel/" class="external-link">British
Election Study</a>.</em> <br><br><strong>Using
<code><a href="../reference/get_file.html">get_file()</a></code>:</strong> When working with external data files,
such as .sav or .csv, get_file() becomes invaluable. It not only imports
the data but also preprocesses it, handling special characters and
facilitates the conversion of specialised data types, such as
<code>haven_labelled</code>, into standard R formats, making it a robust
choice for various data sources.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Using the  `get_file function option which includes the above preprocessing.</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_file.html">get_file</a></span><span class="op">(</span><span class="st">"inst/extdata/survey.sav"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="2%">
<col width="8%">
<col width="25%">
<col width="25%">
<col width="13%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th align="right">id</th>
<th align="right">wt</th>
<th align="left">turnoutUKGeneral</th>
<th align="left">generalElectionVote</th>
<th align="left">partyIdStrength</th>
<th align="left">partyId</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">7</td>
<td align="right">0.3755288</td>
<td align="left">Very likely that I would vote</td>
<td align="left">Scottish National Party (SNP)</td>
<td align="left">Fairly strong</td>
<td align="left">Scottish National Party (SNP)</td>
</tr>
<tr class="even">
<td align="right">14</td>
<td align="right">0.5528756</td>
<td align="left">Very likely that I would vote</td>
<td align="left">Conservative</td>
<td align="left">Not very strong</td>
<td align="left">Labour</td>
</tr>
<tr class="odd">
<td align="right">15</td>
<td align="right">0.7122303</td>
<td align="left">Very likely that I would vote</td>
<td align="left">Brexit Party/Reform UK</td>
<td align="left">Fairly strong</td>
<td align="left">Brexit Party/Reform UK</td>
</tr>
<tr class="even">
<td align="right">18</td>
<td align="right">0.4396403</td>
<td align="left">Fairly likely</td>
<td align="left">Scottish National Party (SNP)</td>
<td align="left">Not very strong</td>
<td align="left">No - none</td>
</tr>
<tr class="odd">
<td align="right">19</td>
<td align="right">0.3613798</td>
<td align="left">Very likely that I would vote</td>
<td align="left">Labour</td>
<td align="left">Very strong</td>
<td align="left">Labour</td>
</tr>
<tr class="even">
<td align="right">24</td>
<td align="right">1.6864884</td>
<td align="left">Very likely that I would vote</td>
<td align="left">Green Party</td>
<td align="left">NA</td>
<td align="left">No - none</td>
</tr>
</tbody>
</table>
<p><em>For detailed uploading instructions, refer to the <a href="https://sarahcgall.github.io/scgUtils/articles/uploading-data.html" class="external-link">Uploading
&amp; Cleaning Data article</a>.</em> <br></p>
<hr>
</div>
<div class="section level3">
<h3 id="step-2-viewing-the-full-dataset">Step 2: Viewing the Full Dataset<a class="anchor" aria-label="anchor" href="#step-2-viewing-the-full-dataset"></a>
</h3>
<p>After uploading the data, it’s important to understand its structure
and content. The <code>sjPlot</code> package’s <a href="http://www.strengejacke.de/sjPlot/reference/view_df.html" class="external-link"><code>view_df()</code></a>
function provides an interactive HTML view of your dataset, allowing for
an immediate and comprehensive examination of the data’s attributes,
frequencies, and percentages. This step is crucial for identifying the
nature of variables, understanding their distribution, and planning
further data processing strategies.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sjPlot</span><span class="fu">::</span><span class="fu">view_df</span><span class="op">(</span><span class="va">df</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span>,  <span class="co"># NB first 10 variables shown only in this example</span></span>
<span>                weight.by <span class="op">=</span> <span class="st">"wt"</span>,</span>
<span>                show.type <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co"># show whether variable is numeric or categorical</span></span>
<span>                show.wtd.frq <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co"># display weighted frequency</span></span>
<span>                show.wtd.prc <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co"># display weighted %</span></span>
<span><span class="op">)</span></span></code></pre></div>
<iframe width="100%" height="850" src="img/questionnaire.html" frameborder="0" allowfullscreen></iframe>
<hr>
</div>
<div class="section level3">
<h3 id="step-3-processing-the-data">Step 3: Processing the Data<a class="anchor" aria-label="anchor" href="#step-3-processing-the-data"></a>
</h3>
<p>Survey data often requires specific processing steps to ensure it is
analysis-ready. This may involve creating new variables, recoding
factors, handling missing values, and more.</p>
<hr>
</div>
<div class="section level3">
<h3 id="step-4-weighting-the-data">Step 4: Weighting the Data<a class="anchor" aria-label="anchor" href="#step-4-weighting-the-data"></a>
</h3>
<p>Survey data analysis sometimes necessitates weighting to address
issues like sample design or response biases. To understand and
implement weighting, view the <a href="">Weighting Your Data
article</a>.</p>
<hr>
</div>
<div class="section level3">
<h3 id="step-5-exploring-the-data">Step 5: Exploring the Data<a class="anchor" aria-label="anchor" href="#step-5-exploring-the-data"></a>
</h3>
<p>Exploring survey data effectively demands a nuanced approach to both
numeric and categorical data. The <code>scgUtils</code> package,
complemented by base R functionalities, offers a comprehensive toolkit
for this exploration. <br><br></p>
<div class="section level4">
<h4 id="numeric-data">
<strong>Numeric data</strong><a class="anchor" aria-label="anchor" href="#numeric-data"></a>
</h4>
<p>Numeric data, such as age, income, or survey ratings, can reveal
significant trends and patterns when analysed correctly. <br><br></p>
<p><strong><em>Summary Statistics</em></strong><br> Begin with
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> for a quick overview, offering key statistical
measures.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">age</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span><span class="co">#&gt;   18.00   55.00   66.00   63.58   73.00   93.00</span></span></code></pre></div>
<p><br></p>
<p>For group-wise insights, <code><a href="https://rdrr.io/r/base/tapply.html" class="external-link">tapply()</a></code> combined with
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> allows you to dissect the data based on
categories like gender or education level, providing a clearer
understanding of distribution across different segments.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># By group:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/tapply.html" class="external-link">tapply</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">age</span>, <span class="va">df</span><span class="op">$</span><span class="va">gender</span>, <span class="va">summary</span><span class="op">)</span></span>
<span><span class="co">#&gt; $Male</span></span>
<span><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span><span class="co">#&gt;   30.00   56.00   66.00   64.15   74.00   93.00 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Female</span></span>
<span><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span><span class="co">#&gt;   18.00   54.00   66.00   62.97   73.00   93.00</span></span></code></pre></div>
<p><br></p>
<p><strong><em>Mean Calculation</em></strong><br> Average calculations,
both weighted and unweighted, are crucial in survey analysis. Utilise
<code><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean()</a></code> for simple averages and <code><a href="https://rdrr.io/r/stats/weighted.mean.html" class="external-link">weighted.mean()</a></code>
for more complex scenarios where survey design needs to be accounted
for.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Unweighted:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">age</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 63.5824</span></span>
<span></span>
<span><span class="co"># Weighted:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/weighted.mean.html" class="external-link">weighted.mean</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">age</span>, <span class="va">df</span><span class="op">$</span><span class="va">wt</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 60.17577</span></span></code></pre></div>
<p><br></p>
<p><strong><em>Grouped Mean with
<code><a href="../reference/grp_mean.html">grp_mean()</a></code></em></strong><br> For advanced analysis,
<code><a href="../reference/grp_mean.html">grp_mean()</a></code> elegantly calculates group-wise means. It
simplifies the process of aggregating data across one or more
categorical variables, offering an efficient alternative to more verbose
methods like those in <code>dplyr</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># By a single group:</span></span>
<span><span class="fu"><a href="../reference/grp_mean.html">grp_mean</a></span><span class="op">(</span><span class="va">df</span>,</span>
<span>         meanVar <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>         groups <span class="op">=</span> <span class="st">"gender"</span>,</span>
<span>         weight <span class="op">=</span> <span class="st">"wt"</span> <span class="co"># optional</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># `dplyr` equivalent:</span></span>
<span><span class="co"># df %&gt;%</span></span>
<span><span class="co">#   group_by(gender) %&gt;%</span></span>
<span><span class="co">#   summarise(Mean = weighted.mean(age, wt)) %&gt;%</span></span>
<span><span class="co">#   ungroup()</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">gender</th>
<th align="right">Mean</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Male</td>
<td align="right">60.14175</td>
</tr>
<tr class="even">
<td align="left">Female</td>
<td align="right">60.21559</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># By many groups:</span></span>
<span><span class="fu"><a href="../reference/grp_mean.html">grp_mean</a></span><span class="op">(</span><span class="va">df</span>,</span>
<span>         meanVar <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>         groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gender"</span>, <span class="st">"partyId"</span><span class="op">)</span>,</span>
<span>         weight <span class="op">=</span> <span class="st">"wt"</span>, <span class="co"># optional</span></span>
<span>         set_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Gender"</span>, <span class="st">"Party Identification"</span>, <span class="st">"Average Age"</span><span class="op">)</span>, <span class="co"># optional: change names</span></span>
<span>         round_decimals <span class="op">=</span> <span class="fl">2</span> <span class="co"># optional: round decimal places to 2 digits</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># `dplyr` equivalent:</span></span>
<span><span class="co"># df %&gt;%</span></span>
<span><span class="co">#   group_by(gender, partyId) %&gt;%</span></span>
<span><span class="co">#   summarise(`Average Age` = weighted.mean(age, wt)) %&gt;%</span></span>
<span><span class="co">#   ungroup() %&gt;%</span></span>
<span><span class="co">#   rename(Gender = gender, `Party Identification` = partyId) %&gt;%</span></span>
<span><span class="co">#   head()</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Gender</th>
<th align="left">Party Identification</th>
<th align="right">Average Age</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Male</td>
<td align="left">Conservative</td>
<td align="right">64.60</td>
</tr>
<tr class="even">
<td align="left">Female</td>
<td align="left">Conservative</td>
<td align="right">65.86</td>
</tr>
<tr class="odd">
<td align="left">Male</td>
<td align="left">Labour</td>
<td align="right">59.81</td>
</tr>
<tr class="even">
<td align="left">Female</td>
<td align="left">Labour</td>
<td align="right">59.29</td>
</tr>
<tr class="odd">
<td align="left">Male</td>
<td align="left">Liberal Democrat</td>
<td align="right">60.44</td>
</tr>
<tr class="even">
<td align="left">Female</td>
<td align="left">Liberal Democrat</td>
<td align="right">59.71</td>
</tr>
</tbody>
</table>
<p><br></p>
</div>
<div class="section level4">
<h4 id="categorical-data">
<strong>Categorical data</strong><a class="anchor" aria-label="anchor" href="#categorical-data"></a>
</h4>
<p>Categorical data typically includes demographics or multiple-choice
responses. Analysing these effectively unlocks insights into respondent
behaviours and preferences. <br><br></p>
<p><strong><em>Grouped Frequencies with
<code><a href="../reference/grp_freq.html">grp_freq()</a></code></em></strong><br><code><a href="../reference/grp_freq.html">grp_freq()</a></code> shines
in its ability to provide detailed frequency and percentage breakdowns
across various groups. It’s capable of handling both weighted and
unweighted data, adding depth and precision to your categorical data
analysis.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># By a single group:</span></span>
<span><span class="fu"><a href="../reference/grp_freq.html">grp_freq</a></span><span class="op">(</span><span class="va">df</span>,</span>
<span>         groups <span class="op">=</span> <span class="st">"partyId"</span>,</span>
<span>         weight <span class="op">=</span> <span class="st">"wt"</span>, <span class="co"># optional</span></span>
<span>         addPercent <span class="op">=</span> <span class="cn">TRUE</span> <span class="co"># optional</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># `dplyr` equivalent:</span></span>
<span><span class="co"># df %&gt;%</span></span>
<span><span class="co">#   group_by(partyId) %&gt;%</span></span>
<span><span class="co">#   summarise(Freq = sum(wt)) %&gt;%</span></span>
<span><span class="co">#   ungroup() %&gt;%</span></span>
<span><span class="co">#   mutate(Perc = Freq / sum(Freq)) %&gt;%</span></span>
<span><span class="co">#   head()</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">partyId</th>
<th align="right">Freq</th>
<th align="right">Perc</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Conservative</td>
<td align="right">1167.9802</td>
<td align="right">29.264551</td>
</tr>
<tr class="even">
<td align="left">Labour</td>
<td align="right">963.5791</td>
<td align="right">24.143139</td>
</tr>
<tr class="odd">
<td align="left">Liberal Democrat</td>
<td align="right">232.9101</td>
<td align="right">5.835724</td>
</tr>
<tr class="even">
<td align="left">Scottish National Party (SNP)</td>
<td align="right">101.8282</td>
<td align="right">2.551375</td>
</tr>
<tr class="odd">
<td align="left">Plaid Cymru</td>
<td align="right">14.6336</td>
<td align="right">0.366655</td>
</tr>
<tr class="even">
<td align="left">Green Party</td>
<td align="right">100.3786</td>
<td align="right">2.515055</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># By many group:</span></span>
<span><span class="fu"><a href="../reference/grp_freq.html">grp_freq</a></span><span class="op">(</span><span class="va">df</span>,</span>
<span>         groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"partyId"</span>, <span class="st">"gender"</span><span class="op">)</span>,</span>
<span>         weight <span class="op">=</span> <span class="st">"wt"</span>, <span class="co"># optional</span></span>
<span>         groupsPercent <span class="op">=</span> <span class="st">"partyId"</span>, <span class="co"># optional</span></span>
<span>         round_decimals <span class="op">=</span> <span class="fl">2</span> <span class="co"># optional: round decimal places to 2 digits</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># `dplyr` equivalent:</span></span>
<span><span class="co"># df %&gt;%</span></span>
<span><span class="co">#   group_by(partyId, gender) %&gt;%</span></span>
<span><span class="co">#   summarise(Freq = sum(wt)) %&gt;%</span></span>
<span><span class="co">#   ungroup() %&gt;%</span></span>
<span><span class="co">#   group_by(partyId) %&gt;%</span></span>
<span><span class="co">#   mutate(Perc = Freq / sum(Freq)) %&gt;%</span></span>
<span><span class="co">#   ungroup() %&gt;%</span></span>
<span><span class="co">#   head()</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">partyId</th>
<th align="left">gender</th>
<th align="right">Freq</th>
<th align="right">Perc</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Conservative</td>
<td align="left">Male</td>
<td align="right">663.95</td>
<td align="right">56.85</td>
</tr>
<tr class="even">
<td align="left">Labour</td>
<td align="left">Male</td>
<td align="right">496.94</td>
<td align="right">51.57</td>
</tr>
<tr class="odd">
<td align="left">Liberal Democrat</td>
<td align="left">Male</td>
<td align="right">129.14</td>
<td align="right">55.45</td>
</tr>
<tr class="even">
<td align="left">Scottish National Party (SNP)</td>
<td align="left">Male</td>
<td align="right">48.73</td>
<td align="right">47.85</td>
</tr>
<tr class="odd">
<td align="left">Plaid Cymru</td>
<td align="left">Male</td>
<td align="right">8.81</td>
<td align="right">60.20</td>
</tr>
<tr class="even">
<td align="left">Green Party</td>
<td align="left">Male</td>
<td align="right">60.48</td>
<td align="right">60.25</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><strong><em>Crosstabs</em></strong><br> Crosstabulation is a
fundamental technique in survey analysis, especially when examining
relationships between categorical variables. For an overview of using
crosstab functions within the <code>scgUtils</code> package, view the <a href="https://sarahcgall.github.io/scgUtils/articles/crosstabs.html" class="external-link">Conducting
Cross-Tabulation Analysis article</a>. <br><br></p>
</div>
<div class="section level4">
<h4 id="grid-data">
<strong>Grid data</strong><a class="anchor" aria-label="anchor" href="#grid-data"></a>
</h4>
<p>Grid questions, common in surveys, pose unique analytical challenges
due to their format. <br><br></p>
<p><strong><em>Handling Grid Data with
<code><a href="../reference/grid_vars.html">grid_vars()</a></code></em></strong><br><code><a href="../reference/grid_vars.html">grid_vars()</a></code> is
tailor-made for such data, turning complex grid questions into
analysable formats. It’s particularly adept at handling “select all that
apply” questions or grid-type responses, transforming them into a format
conducive to comparison and visualisation with libraries such as <a href="https://ggplot2.tidyverse.org/" class="external-link"><code>ggplot2</code></a>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a named list of the columns that relate to the question</span></span>
<span><span class="va">vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>likeSunak <span class="op">=</span> <span class="st">"Rishi Sunak"</span>,</span>
<span>             likeStarmer <span class="op">=</span> <span class="st">"Keir Starmer"</span>,</span>
<span>             likeCon <span class="op">=</span> <span class="st">"Conservative Party"</span>,</span>
<span>             likeLab <span class="op">=</span> <span class="st">"Labour Party"</span>,</span>
<span>             likeLD <span class="op">=</span> <span class="st">"Lib Dems"</span>,</span>
<span>             likeSNP <span class="op">=</span> <span class="st">"SNP"</span>,</span>
<span>             likePC <span class="op">=</span> <span class="st">"Plaid Cymru"</span>,</span>
<span>             likeBrexitParty <span class="op">=</span> <span class="st">"Brexit Party"</span>,</span>
<span>             likeGrn <span class="op">=</span> <span class="st">"Green Party"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/grid_vars.html">grid_vars</a></span><span class="op">(</span><span class="va">df</span>,</span>
<span>          vars <span class="op">=</span> <span class="va">vars</span>,</span>
<span>          weight <span class="op">=</span> <span class="st">"wt"</span> <span class="co"># optional</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Question</th>
<th align="left">Response</th>
<th align="right">Freq</th>
<th align="right">Perc</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Brexit Party</td>
<td align="left">Strongly dislike</td>
<td align="right">1369.44</td>
<td align="right">34.31</td>
</tr>
<tr class="even">
<td align="left">Conservative Party</td>
<td align="left">Strongly dislike</td>
<td align="right">1260.06</td>
<td align="right">31.57</td>
</tr>
<tr class="odd">
<td align="left">Green Party</td>
<td align="left">Strongly dislike</td>
<td align="right">810.10</td>
<td align="right">20.30</td>
</tr>
<tr class="even">
<td align="left">Keir Starmer</td>
<td align="left">Strongly dislike</td>
<td align="right">850.59</td>
<td align="right">21.31</td>
</tr>
<tr class="odd">
<td align="left">Labour Party</td>
<td align="left">Strongly dislike</td>
<td align="right">839.85</td>
<td align="right">21.04</td>
</tr>
<tr class="even">
<td align="left">Lib Dems</td>
<td align="left">Strongly dislike</td>
<td align="right">776.15</td>
<td align="right">19.45</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><strong><em>Implementing <code><a href="../reference/grid_vars.html">grid_vars()</a></code> by
Group</em></strong><br> Enhance the functionality of
<code><a href="../reference/grid_vars.html">grid_vars()</a></code> by applying it with a group variable. This
allows for dissecting responses across different demographic or
categorical segments, providing richer, more targeted insights.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/grid_vars.html">grid_vars</a></span><span class="op">(</span><span class="va">df</span>,</span>
<span>          vars <span class="op">=</span> <span class="va">vars</span>,</span>
<span>          group <span class="op">=</span> <span class="st">"gender"</span>, <span class="co"># optional</span></span>
<span>          weight <span class="op">=</span> <span class="st">"wt"</span> <span class="co"># optional</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Question</th>
<th align="left">Response</th>
<th align="left">gender</th>
<th align="right">Freq</th>
<th align="right">Perc</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Brexit Party</td>
<td align="left">Strongly dislike</td>
<td align="left">Male</td>
<td align="right">825.56</td>
<td align="right">38.36</td>
</tr>
<tr class="even">
<td align="left">Conservative Party</td>
<td align="left">Strongly dislike</td>
<td align="left">Male</td>
<td align="right">706.28</td>
<td align="right">32.81</td>
</tr>
<tr class="odd">
<td align="left">Green Party</td>
<td align="left">Strongly dislike</td>
<td align="left">Male</td>
<td align="right">548.62</td>
<td align="right">25.49</td>
</tr>
<tr class="even">
<td align="left">Keir Starmer</td>
<td align="left">Strongly dislike</td>
<td align="left">Male</td>
<td align="right">511.98</td>
<td align="right">23.79</td>
</tr>
<tr class="odd">
<td align="left">Labour Party</td>
<td align="left">Strongly dislike</td>
<td align="left">Male</td>
<td align="right">478.74</td>
<td align="right">22.24</td>
</tr>
<tr class="even">
<td align="left">Lib Dems</td>
<td align="left">Strongly dislike</td>
<td align="left">Male</td>
<td align="right">498.82</td>
<td align="right">23.18</td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="step-6-visualising-the-data">Step 6: Visualising the Data<a class="anchor" aria-label="anchor" href="#step-6-visualising-the-data"></a>
</h3>
<p>Effective visualisation is key in survey data analysis, offering a
way to intuitively understand and communicate complex data patterns. The
<code>scgUtils</code> package provides specialised functions like
<code><a href="../reference/plot_popn.html">plot_popn()</a></code> for demographic analysis and
<code><a href="../reference/plot_sankey.html">plot_sankey()</a></code> for flow visualisation, helping you to not
only understand your data but also to present it in a compelling and
insightful manner.</p>
<p>For a broader spectrum of visualisation techniques and detailed
guidance on effectively using colour in your plots, refer to the <a href="https://sarahcgall.github.io/scgUtils/articles/visualising-data.html" class="external-link">Visualising
Data article</a> and <a href="https://sarahcgall.github.io/scgUtils/articles/creating-colour-palettes.html#colour_display" class="external-link">Mastering
Colour Selection article</a>. These resources provide additional
insights into making the most of the <code>scgUtils</code> package for
visualising complex survey data. <br></p>
<hr>
</div>
<div class="section level3">
<h3 id="step-7-presenting-the-results">Step 7: Presenting the Results<a class="anchor" aria-label="anchor" href="#step-7-presenting-the-results"></a>
</h3>
<p>Presenting the results of your survey analysis in a clear and
impactful way is crucial. The <code>scgUtils</code> package offers
functionalities that aid in creating detailed and informative
presentations. <br><br></p>
<div class="section level4">
<h4 id="tables">
<strong>Tables</strong><a class="anchor" aria-label="anchor" href="#tables"></a>
</h4>
<p>Tables are fundamental tools for presenting complex data in a
structured and easily interpretable format. View the <a href="https://sarahcgall.github.io/scgUtils/articles/crosstabs.html" class="external-link">Conducting
Cross-Tabulation Analysis article</a> for more information on how to
compile tables. <br><br></p>
</div>
<div class="section level4">
<h4 id="powerpoint-integration">
<strong>PowerPoint Integration</strong><a class="anchor" aria-label="anchor" href="#powerpoint-integration"></a>
</h4>
<p>In future updates, <code>scgUtils</code> aims to incorporate
capabilities for directly exporting analysis results into PowerPoint
presentations. This functionality will facilitate seamless integration
of your data findings into professional and engaging presentation
formats, suitable for various audiences. <br><br></p>
</div>
<div class="section level4">
<h4 id="interactive-dashboards">
<strong>Interactive Dashboards</strong><a class="anchor" aria-label="anchor" href="#interactive-dashboards"></a>
</h4>
<p>Another upcoming feature is the ability to create interactive
dashboards directly from your survey data. Dashboards offer a dynamic
way to explore and present data, allowing users to interact with the
information, drill down into specifics, and gain a deeper understanding
of the underlying patterns. This functionality will be a significant
enhancement, providing a powerful tool for data storytelling and
decision-making processes.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.sarahcgall.co.uk/" class="external-link">Sarah Gall</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer>
</body>
</html>
