<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Visualise Data Flow with a Sankey Diagram — plot_sankey • scgUtils</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Visualise Data Flow with a Sankey Diagram — plot_sankey"><meta name="description" content="plot_sankey enhances the networkD3::sankeyNetwork
function, utilising htmlwidgets to create an interactive Sankey diagram.
This type of flow diagram is particularly effective for illustrating data movement or transfer
between different entities (nodes), such as in the distribution of votes across elections or
in preferential voting systems."><meta property="og:description" content="plot_sankey enhances the networkD3::sankeyNetwork
function, utilising htmlwidgets to create an interactive Sankey diagram.
This type of flow diagram is particularly effective for illustrating data movement or transfer
between different entities (nodes), such as in the distribution of votes across elections or
in preferential voting systems."><meta property="og:image" content="https://docs.sarahcgall.co.uk/scgUtils/logo.png"></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">scgUtils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/using-survey-data.html">Using scgUtils with Survey Data</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Function Explainers</h6></li>
    <li><a class="dropdown-item" href="../articles/uploading-data.html">Uploading &amp; Cleaning Data</a></li>
    <li><a class="dropdown-item" href="../articles/weight-your-data.html">Weighting Your Data</a></li>
    <li><a class="dropdown-item" href="../articles/crosstabs.html">Conducting Cross-Tabulation Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/creating-colour-palettes.html">Mastering Colour Selection</a></li>
    <li><a class="dropdown-item" href="../articles/visualising-data.html">Visualising Data</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sarahcgall/scgUtils/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Visualise Data Flow with a Sankey Diagram</h1>
      <small class="dont-index">Source: <a href="https://github.com/sarahcgall/scgUtils/blob/master/R/plot_sankey.R" class="external-link"><code>R/plot_sankey.R</code></a></small>
      <div class="d-none name"><code>plot_sankey.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>plot_sankey</code> enhances the <a href="https://www.rdocumentation.org/packages/networkD3/versions/0.4/topics/sankeyNetwork" class="external-link"><code><a href="https://rdrr.io/pkg/networkD3/man/sankeyNetwork.html" class="external-link">networkD3::sankeyNetwork</a></code></a>
function, utilising <a href="https://www.htmlwidgets.org/" class="external-link"><code>htmlwidgets</code></a> to create an interactive Sankey diagram.
This type of flow diagram is particularly effective for illustrating data movement or transfer
between different entities (nodes), such as in the distribution of votes across elections or
in preferential voting systems.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_sankey</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">source</span>,</span>
<span>  <span class="va">target</span>,</span>
<span>  <span class="va">value</span>,</span>
<span>  units <span class="op">=</span> <span class="st">""</span>,</span>
<span>  colours <span class="op">=</span> <span class="fu"><a href="colour_pal.html">colour_pal</a></span><span class="op">(</span><span class="st">"catExtended"</span><span class="op">)</span>,</span>
<span>  fontSize <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  fontFamily <span class="op">=</span> <span class="st">"Calibri"</span>,</span>
<span>  nodeWidth <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  nodePadding <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  margin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>top <span class="op">=</span> <span class="fl">0</span>, right <span class="op">=</span> <span class="fl">0</span>, bottom <span class="op">=</span> <span class="fl">0</span>, left <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>  width <span class="op">=</span> <span class="fl">1200</span>,</span>
<span>  height <span class="op">=</span> <span class="fl">800</span>,</span>
<span>  shiftLabel <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  heading <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sourceTitle <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  targetTitle <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame containing the flow data, where each row represents a unique flow
from a source to a target node.</p></dd>


<dt id="arg-source">source<a class="anchor" aria-label="anchor" href="#arg-source"></a></dt>
<dd><p>The column in <code>data</code> representing the source nodes.</p></dd>


<dt id="arg-target">target<a class="anchor" aria-label="anchor" href="#arg-target"></a></dt>
<dd><p>The column in <code>data</code> representing the target nodes.</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>The column in <code>data</code> representing the flow's magnitude or volume.</p></dd>


<dt id="arg-units">units<a class="anchor" aria-label="anchor" href="#arg-units"></a></dt>
<dd><p>A string indicating the units for <code>value</code>, displayed in the tooltip.
Defaults to an empty string, implying no units.</p></dd>


<dt id="arg-colours">colours<a class="anchor" aria-label="anchor" href="#arg-colours"></a></dt>
<dd><p>A list or vector of colours for nodes and links in the diagram, either
as hexadecimal codes or colour names. Can be a named list for specific node colour mapping.</p></dd>


<dt id="arg-fontsize">fontSize<a class="anchor" aria-label="anchor" href="#arg-fontsize"></a></dt>
<dd><p>Font size for text in the diagram.</p></dd>


<dt id="arg-fontfamily">fontFamily<a class="anchor" aria-label="anchor" href="#arg-fontfamily"></a></dt>
<dd><p>Font family for text in the diagram.</p></dd>


<dt id="arg-nodewidth">nodeWidth<a class="anchor" aria-label="anchor" href="#arg-nodewidth"></a></dt>
<dd><p>Width of nodes in the diagram.</p></dd>


<dt id="arg-nodepadding">nodePadding<a class="anchor" aria-label="anchor" href="#arg-nodepadding"></a></dt>
<dd><p>Padding between nodes in the diagram.</p></dd>


<dt id="arg-margin">margin<a class="anchor" aria-label="anchor" href="#arg-margin"></a></dt>
<dd><p>Margins around the diagram, specified as a list.</p></dd>


<dt id="arg-width">width<a class="anchor" aria-label="anchor" href="#arg-width"></a></dt>
<dd><p>Width of the plot in pixels.</p></dd>


<dt id="arg-height">height<a class="anchor" aria-label="anchor" href="#arg-height"></a></dt>
<dd><p>Height of the plot in pixels.</p></dd>


<dt id="arg-shiftlabel">shiftLabel<a class="anchor" aria-label="anchor" href="#arg-shiftlabel"></a></dt>
<dd><p>Numeric value to adjust the position of labels; <code>NA</code> for auto-placement.</p></dd>


<dt id="arg-heading">heading<a class="anchor" aria-label="anchor" href="#arg-heading"></a></dt>
<dd><p>An optional string for the main title of the Sankey diagram.</p></dd>


<dt id="arg-sourcetitle">sourceTitle<a class="anchor" aria-label="anchor" href="#arg-sourcetitle"></a></dt>
<dd><p>An optional string for labeling the source nodes.</p></dd>


<dt id="arg-targettitle">targetTitle<a class="anchor" aria-label="anchor" href="#arg-targettitle"></a></dt>
<dd><p>An optional string for labeling the target nodes.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An interactive Sankey diagram as an HTML widget, which can be used in R Markdown documents,
Shiny applications, or the R console. The diagram provides a visual representation of the flow data,
with customisable aspects such as colours, fonts, and node dimensions.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="co"># Example: Visualising the flow of votes between parties</span></span></span>
<span class="r-in"><span>  <span class="fu">plot_sankey</span><span class="op">(</span>data <span class="op">=</span> <span class="va">election_data</span>,</span></span>
<span class="r-in"><span>              source <span class="op">=</span> <span class="st">"Party_Previous_Election"</span>,</span></span>
<span class="r-in"><span>              target <span class="op">=</span> <span class="st">"Party_Current_Election"</span>,</span></span>
<span class="r-in"><span>              value <span class="op">=</span> <span class="st">"Number_of_Votes"</span>,</span></span>
<span class="r-in"><span>              colours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Labour"</span> <span class="op">=</span> <span class="st">"red"</span>, <span class="st">"Green"</span> <span class="op">=</span> <span class="st">"green"</span>, <span class="st">"National"</span> <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>              heading <span class="op">=</span> <span class="st">"Election Vote Flow"</span>,</span></span>
<span class="r-in"><span>              sourceTitle <span class="op">=</span> <span class="st">"Previous Election"</span>,</span></span>
<span class="r-in"><span>              targetTitle <span class="op">=</span> <span class="st">"Current Election"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.sarahcgall.co.uk/" class="external-link">Sarah Gall</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer></body></html>

