<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='colour_prep is a helper function designed to work in tandem with colour_pal. It prepares a colour
palette for visualising data by assigning colours to unique values across specified columns in a data frame.
This function is particularly useful for creating consistent colour mappings in visualisations such as
plots and diagrams, where colours are associated with specific data values.
For political colour palettes (identified by the "pol" prefix in pal_name), colour_prep attempts to
match political party names from the data frame with corresponding colours from the palette. For example,
if a data column contains "Scottish National Party (SNP)", the function will try to match it with the "SNP"
entry in the colour palette and assign the appropriate hexadecimal colour, e.g., "#FFF95D" (light yellow).
Values that do not match are assigned a default grey colour ("#cccccc"). Users can manually amend these
default assignments by modifying the returned list, e.g., your_saved_colour_palette$default_value &amp;lt;- "#34134a".'><title>Prepare a Named Colour Palette for Data Columns — colour_prep • scgUtils</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.8/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.8/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prepare a Named Colour Palette for Data Columns — colour_prep"><meta property="og:description" content='colour_prep is a helper function designed to work in tandem with colour_pal. It prepares a colour
palette for visualising data by assigning colours to unique values across specified columns in a data frame.
This function is particularly useful for creating consistent colour mappings in visualisations such as
plots and diagrams, where colours are associated with specific data values.
For political colour palettes (identified by the "pol" prefix in pal_name), colour_prep attempts to
match political party names from the data frame with corresponding colours from the palette. For example,
if a data column contains "Scottish National Party (SNP)", the function will try to match it with the "SNP"
entry in the colour palette and assign the appropriate hexadecimal colour, e.g., "#FFF95D" (light yellow).
Values that do not match are assigned a default grey colour ("#cccccc"). Users can manually amend these
default assignments by modifying the returned list, e.g., your_saved_colour_palette$default_value &amp;lt;- "#34134a".'><meta property="og:image" content="https://sarahcgall.github.io/scgUtils/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">scgUtils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/using-survey-data.html">Using Survey Data</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sarahcgall/scgUtils/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Prepare a Named Colour Palette for Data Columns</h1>
      <small class="dont-index">Source: <a href="https://github.com/sarahcgall/scgUtils/blob/HEAD/R/colour_prep.R" class="external-link"><code>R/colour_prep.R</code></a></small>
      <div class="d-none name"><code>colour_prep.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>colour_prep</code> is a helper function designed to work in tandem with <code>colour_pal</code>. It prepares a colour
palette for visualising data by assigning colours to unique values across specified columns in a data frame.
This function is particularly useful for creating consistent colour mappings in visualisations such as
plots and diagrams, where colours are associated with specific data values.</p>
<p>For political colour palettes (identified by the "pol" prefix in <code>pal_name</code>), <code>colour_prep</code> attempts to
match political party names from the data frame with corresponding colours from the palette. For example,
if a data column contains "Scottish National Party (SNP)", the function will try to match it with the "SNP"
entry in the colour palette and assign the appropriate hexadecimal colour, e.g., "#FFF95D" (light yellow).</p>
<p>Values that do not match are assigned a default grey colour ("#cccccc"). Users can manually amend these
default assignments by modifying the returned list, e.g., <code>your_saved_colour_palette$default_value &lt;- "#34134a"</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">colour_prep</span><span class="op">(</span><span class="va">data</span>, <span class="va">columns</span>, pal_name <span class="op">=</span> <span class="st">"catExtended"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>A data frame containing the data for which colours are to be prepared.</p></dd>


<dt>columns</dt>
<dd><p>A character vector specifying the names of the columns in <code>data</code> for which
unique values are to be extracted and assigned colours.</p></dd>


<dt>pal_name</dt>
<dd><p>The name of the colour palette to use, defaulting to <code>"catExtended"</code>.
This refers to an extended categorical colour palette. Other palettes from
<code>colour_pal</code> can also be specified.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A named list of hexadecimal colour codes, where each name corresponds to a unique value
found in the specified <code>columns</code> of the <code>data</code> frame. This list can be directly used for
colour mapping in data visualisations.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="colour_pal.html">colour_pal()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example data frame</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  Category1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Scottish National Party (SNP)"</span>, <span class="st">"Labour"</span>, <span class="st">"Conservative"</span>, <span class="st">"Other"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  Category2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"An independent candidate"</span>, <span class="st">"Invalid_Party_Name"</span>, <span class="st">"Other"</span>, <span class="st">"Conservative"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Prepare a colour palette for the unique values in Category1 and Category2</span></span></span>
<span class="r-in"><span><span class="fu">colour_prep</span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Category1"</span>, <span class="st">"Category2"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`An independent candidate`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "#478c5b"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Conservative</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "#374e8e"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Invalid_Party_Name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "#df7c18"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Labour</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "#ac004f"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "#4fbbae"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`Scottish National Party (SNP)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "#ce4631"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># See political party colours and compare with the full palette to see how the two names are matched</span></span></span>
<span class="r-in"><span><span class="va">actual</span> <span class="op">&lt;-</span> <span class="fu">colour_prep</span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Category1"</span>, <span class="st">"Category2"</span><span class="op">)</span>, pal_name <span class="op">=</span> <span class="st">"polUK"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">actual</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/stack.html" class="external-link">stack</a></span><span class="op">(</span><span class="va">actual</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">expected</span> <span class="op">&lt;-</span> <span class="fu"><a href="colour_pal.html">colour_pal</a></span><span class="op">(</span><span class="st">"polUK"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">expected</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/stack.html" class="external-link">stack</a></span><span class="op">(</span><span class="va">expected</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">colours</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">actual</span>, <span class="va">expected</span>, by<span class="op">=</span><span class="st">"values"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">colours</span> <span class="op">&lt;-</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="va">colours</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"colours"</span>, <span class="st">"df_name"</span>, <span class="st">"palette_name"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">colours</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   colours                       df_name       palette_name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 #DCDCDC      An independent candidate        Independent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 #2e84c6                  Conservative Conservative Party</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 #cccccc            Invalid_Party_Name               &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 #d42027                        Labour       Labour Party</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 #cdcdd1                         Other              Other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 #FFF95D Scottish National Party (SNP)                SNP</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://sarahcgall.co.uk/" class="external-link">Sarah Gall</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

  </div></footer></body></html>

